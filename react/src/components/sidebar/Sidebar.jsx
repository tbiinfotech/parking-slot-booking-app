import React from 'react'
import { List, ListItemButton, ListItemIcon, ListItemText } from '@mui/material';
import { useLocation, useNavigate } from 'react-router-dom';

const customersSvg = (color) => {
    return <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M17.6 20.1H17.5H16H15.9V20V16.2179C15.8994 15.6563 15.6761 15.118 15.2791 14.7209C14.882 14.3239 14.3437 14.1006 13.7821 14.1H7.71785C7.15634 14.1006 6.61798 14.3239 6.22093 14.7209C5.82391 15.118 5.6006 15.6563 5.6 16.2178C5.6 16.2178 5.6 16.2178 5.6 16.2179M17.6 20.1L5.5 16.2178L5.6 16.2179M17.6 20.1V20V16.2178V16.2176C17.5988 15.2055 17.1962 14.2352 16.4805 13.5195C15.7648 12.8038 14.7945 12.4012 13.7824 12.4H13.7822H7.71775H7.71763C6.70551 12.4012 5.73519 12.8038 5.01951 13.5195C4.30383 14.2352 3.90122 15.2055 3.9 16.2176V16.2178V20V20.1H4H5.5H5.6V20L5.6 16.2179M17.6 20.1L5.6 16.2179M10.75 11.1H10.7501C11.9697 11.0988 13.139 10.6138 14.0014 9.75138C14.8638 8.88899 15.3488 7.7197 15.35 6.5001V6.5C15.35 5.59021 15.0802 4.70084 14.5748 3.94438C14.0693 3.18791 13.3509 2.59832 12.5103 2.25016C11.6698 1.90199 10.7449 1.8109 9.85258 1.98839C8.96027 2.16588 8.14063 2.60399 7.49731 3.24731C6.85399 3.89063 6.41588 4.71027 6.23839 5.60259C6.0609 6.4949 6.15199 7.41981 6.50015 8.26035C6.84832 9.10089 7.43791 9.81931 8.19438 10.3248C8.95084 10.8302 9.8402 11.1 10.75 11.1ZM9.13885 4.08874C9.61575 3.77008 10.1764 3.6 10.75 3.6C11.5191 3.6 12.2568 3.90554 12.8006 4.44939C13.3445 4.99325 13.65 5.73087 13.65 6.5C13.65 7.07357 13.4799 7.63425 13.1613 8.11115C12.8426 8.58806 12.3897 8.95976 11.8598 9.17925C11.3299 9.39875 10.7468 9.45618 10.1842 9.34428C9.62169 9.23238 9.10496 8.95618 8.69939 8.55061C8.29382 8.14504 8.01762 7.62831 7.90572 7.06576C7.79382 6.50322 7.85125 5.92013 8.07075 5.39022C8.29024 4.86031 8.66194 4.4074 9.13885 4.08874Z" fill={color} stroke="white" stroke-width="0.2" />
    </svg>
}
const chatSvg = (color) => {
    return <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M19.3448 6.45857L13.1626 3.49371C12.4882 3.16875 11.7492 3 11.0006 3C10.252 3 9.51306 3.16875 8.83866 3.49371L2.65561 6.45857C2.16105 6.69781 1.74366 7.07122 1.45106 7.53621C1.15845 8.0012 1.0024 8.53905 1.00069 9.08844V10.0567C1.00069 11.1717 1.64983 12.2041 2.65561 12.6866L8.83199 15.6481C9.5064 15.9727 10.2451 16.1416 10.9936 16.1423C11.736 16.1423 12.4768 15.9756 13.1676 15.6423L19.3507 12.6566C19.8435 12.4166 20.2593 12.0434 20.5507 11.5791C20.8422 11.1149 20.9978 10.5782 20.9998 10.0301V9.08844C20.998 8.53905 20.842 8.0012 20.5494 7.53621C20.2568 7.07122 19.8394 6.69781 19.3448 6.45857ZM9.55946 4.99697C10.009 4.78022 10.5016 4.66765 11.0006 4.66765C11.4997 4.66765 11.9923 4.78022 12.4418 4.99697L18.239 7.77684L11.1036 11.1992C11.0011 11.2608 10.8986 11.1992 10.8986 11.1992L3.7614 7.77767L9.55946 4.99697ZM3.37725 11.1833C3.16506 11.0809 2.98596 10.9209 2.86041 10.7215C2.73487 10.5222 2.66794 10.2915 2.66728 10.0559V9.10094L10.1669 12.6974V14.3599C9.95607 14.3084 9.75068 14.2367 9.55362 14.1457L3.37725 11.1833ZM18.6274 11.1558L12.4443 14.1415C12.2484 14.2324 12.0441 14.3041 11.8344 14.3557V12.6974L19.334 9.10094V10.0301C19.333 10.265 19.2663 10.4949 19.1415 10.6939C19.0166 10.8928 18.8385 11.0529 18.6274 11.1558ZM20.9173 14.764C21.0132 14.963 21.0263 15.192 20.9534 15.4006C20.8806 15.6093 20.7279 15.7804 20.5289 15.8765L13.1685 19.4305C12.4907 19.759 11.7475 19.9302 10.9944 19.9313C10.2569 19.9313 9.51946 19.7663 8.83283 19.4363L1.47317 15.909C1.27382 15.8134 1.12062 15.6425 1.04724 15.434C0.973875 15.2254 0.986354 14.9963 1.08194 14.7969C1.17752 14.5976 1.34838 14.4444 1.55693 14.371C1.76547 14.2976 1.99462 14.3101 2.19397 14.4057L9.55279 17.9339C10.0037 18.1513 10.4979 18.264 10.9985 18.2634C11.4991 18.2629 11.9931 18.149 12.4435 17.9305L19.804 14.3765C20.0029 14.2805 20.2318 14.2673 20.4404 14.34C20.649 14.4127 20.8211 14.5652 20.9173 14.764Z" fill={color} />
    </svg>
}
const reportedUsersSvg = (color) => {
    return <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18.625 6.16667H5.95833C5.62448 6.16605 5.29447 6.09534 4.98967 5.9591C4.68487 5.82286 4.41208 5.62414 4.18896 5.37579C4.4114 5.12649 4.68402 4.92702 4.98895 4.79045C5.29387 4.65388 5.62422 4.5833 5.95833 4.58333H20.2083C20.4183 4.58333 20.6197 4.49993 20.7681 4.35146C20.9166 4.20299 21 4.00163 21 3.79167C21 3.5817 20.9166 3.38034 20.7681 3.23187C20.6197 3.08341 20.4183 3 20.2083 3H5.95833C4.90852 3 3.9017 3.41704 3.15937 4.15937C2.41704 4.9017 2 5.90852 2 6.95833L2 14.875C2 15.9248 2.41704 16.9316 3.15937 17.674C3.9017 18.4163 4.90852 18.8333 5.95833 18.8333H18.625C19.2549 18.8333 19.859 18.5831 20.3044 18.1377C20.7498 17.6923 21 17.0882 21 16.4583V8.54167C21 7.91178 20.7498 7.30769 20.3044 6.86229C19.859 6.41689 19.2549 6.16667 18.625 6.16667ZM19.4167 16.4583C19.4167 16.8945 19.062 17.25 18.625 17.25H5.95833C4.64892 17.25 3.58333 16.1844 3.58333 14.875V6.95675C4.26863 7.47058 5.1018 7.74886 5.95833 7.75H18.625C19.062 7.75 19.4167 8.10546 19.4167 8.54167V16.4583ZM17.8333 12.5C17.8333 12.71 17.7499 12.9113 17.6015 13.0598C17.453 13.2083 17.2516 13.2917 17.0417 13.2917C16.8317 13.2917 16.6303 13.2083 16.4819 13.0598C16.3334 12.9113 16.25 12.71 16.25 12.5C16.25 12.29 16.3334 12.0887 16.4819 11.9402C16.6303 11.7917 16.8317 11.7083 17.0417 11.7083C17.2516 11.7083 17.453 11.7917 17.6015 11.9402C17.7499 12.0887 17.8333 12.29 17.8333 12.5Z" fill={color} />
    </svg>
}
const createAdminSvg = (color) => {
    return <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M20.9667 12.3246L19.4486 3.76915C19.2422 2.60675 18.1225 1.82775 16.9529 2.03274L3.93194 4.31419C2.76209 4.51915 1.97816 5.63158 2.18442 6.79399L2.29598 7.42271C1.53411 7.75295 1 8.50828 1 9.38563V17.8594C1 19.0397 1.96641 20 3.15428 20H16.08C17.2678 20 18.2343 19.0397 18.2343 17.8594V14.977L19.2192 14.8044C19.7859 14.7051 20.2797 14.3925 20.6098 13.9241C20.9399 13.4557 21.0666 12.8876 20.9667 12.3246ZM19.6473 13.2544C19.4973 13.4673 19.2727 13.6094 19.0152 13.6545L18.2343 13.7913V9.3856C18.2343 8.20525 17.2678 7.24496 16.08 7.24496H3.45768L3.34167 6.59121C3.29623 6.33527 3.35389 6.07707 3.5039 5.86413C3.65392 5.65124 3.87843 5.50914 4.13601 5.46399L17.157 3.18258C17.2133 3.17269 17.2703 3.16772 17.3275 3.16771C17.7935 3.16771 18.2077 3.5004 18.2914 3.97185L19.8095 12.5273C19.8549 12.7833 19.7973 13.0415 19.6473 13.2544ZM16.08 18.8324H3.15428C2.61434 18.8324 2.17506 18.3959 2.17506 17.8594V13.7097H17.0592V17.8593C17.0592 18.3959 16.6199 18.8324 16.08 18.8324ZM3.15428 8.41262H16.08C16.6199 8.41262 17.0592 8.84911 17.0592 9.38563V9.89355H2.17506V9.38563C2.17506 8.84911 2.61434 8.41262 3.15428 8.41262ZM17.0592 11.0612V12.5421H2.17506V11.0612H17.0592Z" fill={color} />
        <path d="M6.65409 16.4878H3.98865C3.66418 16.4878 3.40112 16.7492 3.40112 17.0716C3.40112 17.394 3.66418 17.6554 3.98865 17.6554H6.65409C6.97856 17.6554 7.24162 17.394 7.24162 17.0716C7.24162 16.7492 6.97856 16.4878 6.65409 16.4878Z" fill={color} />
    </svg>

}


function Sidebar() {
    const navigate = useNavigate();
    const { pathname } = useLocation()

    const getPage = (page) => {
        const currentPath = pathname?.split('/');
        let pageOpen = currentPath[1];

        if (pageOpen === page) {
            return true;
        } else {
            return false;
        }
    };

    const navItems = [
        {
            label: 'Users',
            path: 'customers',
            icon: customersSvg,
        },
        {
            label: 'Spaces/Parkings',
            path: 'space-listing',
            icon: chatSvg,
        },
        {
            label: 'Payments',
            path: 'payments',
            icon: reportedUsersSvg,
        },
        {
            label: 'Account',
            path: 'link-bank-account',
            icon: createAdminSvg,
        },
    ];

    return (
        <List component="nav" aria-labelledby="nested-list-subheader" className={`sidebar-menu-list`}>
            {navItems.map((item, index) => (
                <ListItemButton
                    key={index}
                    onClick={() => navigate(`/${item.path}`)}
                    className={`list-item${getPage(item.path) ? ' active' : ''}`}
                >
                    <ListItemIcon className={`list-icon`}>
                        {item.icon(getPage(item.path) ? '#FFFF' : '#202224')}
                    </ListItemIcon>
                    <ListItemText
                        primary={item.label}
                        className={(item.path) ? `list-text` : '`list-text`'}
                    />
                </ListItemButton>
            ))}
        </List>
    );
}

export default Sidebar